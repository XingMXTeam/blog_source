---
title: "中后台技术概览"
date: 2022-04-07T11:23:37+08:00
draft: true
---

### 思考

对于开发人员来说，代码是第一生产力。低代码只是针对非开发人员。论证下：比如我们的asp.net DSL-AST-GUI 我们最终是生成代码。人的能力和适用范围范围是一个金字塔。能力从grunt/js/ts/->fusion/egg框架->页面->运费模版（带商业能力）。 适用范围是越来越窄的。如果我们一开始就到商业能力着一层，比如我们一开始就是schema，其实是回不到底层源码的级别了。


如何横向我们下面的东西做的好不好：外包/产品/设计能通过产品解决问题，而不是找人，说明这个产品/交付是成功的，否则说明能力不足。要定义好我们的产品边界。 

------

1 研发标准化： 

+ 组件（业务组件、原子组件） 场景标准化（一定要是可枚举的，比如通过代码母板的方式提供 区别就是白盒交付（代码拷贝）/黑盒交付（提供接口，你不用关心具体实现））
+ 页面组装
+ 工程打包、发布交付

研发标准化的东西一定是高体验标准的

前端研发这个链路上，让外包更多时间，从产品和设计中、联调（后端独立联调）中抽出来。

2 协同标准化

后端同学无法实现css\react 但是他能够看得懂测试用例，能够对哪些是前端问题后端问题有认知（比如通过diff前后端的接口格式）。识别这个以后，交给专业人士去处理就行。而不是说我们整个人都投入到这个项目里面，在这个空闲时间做不了其他事，因为对外包来说并行是有要求的。

协同要通过接口。 怎么设计标准的接口，希望我们不是直接面向db开发的，接口是有一个标准的， 从DB -> 业务模型 -> UI模型 -> 接口

3 产研平台


有了1 2 能交付高质量的东西 也能跑起来。但是无法做约束，人的沟通也会比较花时间，比如从对方那拷贝一份代码等等。 标准化能提高效率，也会有效能度量（比如我们的交付页面数量、代码量等等）
这些都只是度量我们的组织的效率的。我们决策者需要一个统一的平台能捞出来这些关键数据。

通过扩展点(配置）->process unit（组装）->功能交付









研发侧生产关系调整
业务侧快速试错、差异化、精细化

### 源码（基于协议的源码）

+ 一体化研发（Faas方案）

1 构成成本降低
2 业务模型在云端控制
3 业务同学们没有框架限制

### 搭建 


## 体验

日志库能力，缺陷： 不持久 可能会重发(metaq)
采用了消息队列，落到数据库里。优点是： 持久化

1 pv表里有用户信息和pageid（前端脚本生成）
2 点击表有pageid 通过pageid能找到用户信息

spm-pre从refer里面获取到

## 脚手架

命令行是找到对应的套件 直接执行（入口文件需要bin 但是被依赖的套件不需要）

如果找不到套件，则找到对应的脚手架


## 多包管理

yarn install 会把工作空间的所有包都安装
子包也会被依赖到顶层包，但是需要在顶层里面添加子包。 子包需要被编译否则会找不到这个子包
比如：

```
lerna add package1 --scope=xxx
```







